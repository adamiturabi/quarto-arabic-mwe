<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; TikZ Figures – Minimum(ish) Working Example of Quarto with Arabic RTL text in an LTR document</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../srcqmd/summary.html" rel="next">
<link href="../srcqmd/transliteration.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-9f85eb15c3cc18522de45b2c6db6a6ac.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../srchtml/styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../srcqmd/figures.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">TikZ Figures</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Minimum(ish) Working Example of Quarto with Arabic RTL text in an LTR document</a> 
        <div class="sidebar-tools-main">
    <a href="../Minimum-ish--Working-Example-of-Quarto-with-Arabic-RTL-text-in-an-LTR-document.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../srcqmd/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../srcqmd/arabic_support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Arabic (<span class="reg-ar-text" dir="rtl" lang="ar">العربية</span>) support</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../srcqmd/transliteration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Transliteration of Arabic</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../srcqmd/figures.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">TikZ Figures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../srcqmd/summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../srcqmd/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#todo" id="toc-todo" class="nav-link active" data-scroll-target="#todo"><span class="header-section-number">4.1</span> TODO:</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">4.2</span> Introduction</a></li>
  <li><a href="#filter-options" id="toc-filter-options" class="nav-link" data-scroll-target="#filter-options"><span class="header-section-number">4.3</span> Filter options</a></li>
  <li><a href="#example-tikz-figure-with-arabic-text" id="toc-example-tikz-figure-with-arabic-text" class="nav-link" data-scroll-target="#example-tikz-figure-with-arabic-text"><span class="header-section-number">4.4</span> Example TikZ figure with Arabic text</a></li>
  <li><a href="#overriding-global-options" id="toc-overriding-global-options" class="nav-link" data-scroll-target="#overriding-global-options"><span class="header-section-number">4.5</span> Overriding global options</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<div class="watermark">
Example
<br>
watermark
</div>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">TikZ Figures</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="todo" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="todo"><span class="header-section-number">4.1</span> TODO:</h2>
<ul>
<li>Move tikzarabic filter YAML options to within arabicsupport section</li>
</ul>
</section>
<section id="introduction" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="introduction"><span class="header-section-number">4.2</span> Introduction</h2>
<p>I sometimes need to use TikZ figures with Arabic text in my document. This chapter describes how to do that.</p>
<p>In order to render TikZ figures in Quarto we will use a Pandoc Lua filter. I have modified a Pandoc Lua filter that was originally published here: <a href="https://github.com/danmackinlay/quarto_tikz" class="uri">https://github.com/danmackinlay/quarto_tikz</a></p>
<p>The modified filter <a href="ihttps://github.com/adamiturabi/quarto-arabic-mwe/blob/main/_extensions/arabic-support/tikzarabic.lua"><code>tikzarabic.lua</code></a> is part of my arabic-support extension.</p>
</section>
<section id="filter-options" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="filter-options"><span class="header-section-number">4.3</span> Filter options</h2>
<p>The filter needs some options that I’ve set globally in <code>_quarto.yml</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tikzarabic</span><span class="kw">:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">cache</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">format</span><span class="kw">:</span><span class="at"> svg</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">embed_mode</span><span class="kw">:</span><span class="at"> link</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">engine</span><span class="kw">:</span><span class="at"> lualatex</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">scale_html</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.27978125</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template_html</span><span class="kw">:</span><span class="at"> srctex/tikz-template-html.tex</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template_pdf</span><span class="kw">:</span><span class="at"> srctex/tikz-template-pdf.tex</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">libgs</span><span class="kw">:</span><span class="at"> /usr/local/Cellar/ghostscript/10.04.0/lib/libgs.dylib</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Despite being named <code>tikzarabic</code> you can use this filter for regular TikZ diagrams as well. There is an example at the end of this chapter.</p>
<p>There is also an official filter that handles TikZ (and other formats) here: <a href="https://github.com/pandoc-ext/diagram" class="uri">https://github.com/pandoc-ext/diagram</a>. But unfortunately, I wasn’t able to get it to work with Arabic text. Probably something I was doing incorrectly.</p>
<p>Here is an explanation of the options:</p>
<ul>
<li><p><code>cache</code>: Uses a cache on the system in order to not have to build the TikZ code for every render. When cache is enabled then, if you modify the TikZ code, the figure is rebuilt. But if you modify the template or the filter, then the figures don’t seem to be rebuilt. So in this case you may temporarily have to set <code>cache</code> to false in order to rebuild the figures. Default value: <code>false</code>.</p></li>
<li><p><code>format</code>: SVG preserves vector information for optimal rendering. Only valid for HTML doc output. PDF doc output always uses PDF format for TikZ figures regardless of what is specified for the <code>format</code> field. Default value: <code>svg</code>.</p></li>
<li><p><code>embed_mode</code>: Only affects HTML output. If set to <code>link</code> then the HTML includes the figure as a link. If set to <code>inline</code> then the HTML encodes the figure inline as ASCII text. Default value: <code>inline</code>.</p></li>
<li><p><code>engine</code>: The Arabic typesetting I’m using within the figures uses the package <a href="https://ctan.org/pkg/arabluatex?lang=en">arabluatex</a> which needs the LuaTex engine. This is specified using the text <code>lualatex</code>. Ideally, I should use xelatex to be consistent with the rest of the document but I haven’t yet figured out how to do that. There may be some incompatibility between the babel package and TikZ which would need to be resolved. Default value: <code>latex</code>.</p></li>
<li><p><code>scale_html</code>: For HTML output, we first create a <code>.dvi</code> file from the TikZ <code>.tex</code> and then convert the <code>.dvi</code> to the <code>.svg</code> file that will be included in the HTML. In the process of converting DVI to SVG, if the image needs to be scaled up or down, we can apply a scale factor using this parameter. This scale is applied as an argument to the utility <code>dvisvgm</code> that we use for DVI to SVG conversion. This option only affects HTML output. Default value: 1.</p>
<p>We specify the value 1.27978125. This number has been arrived at using the following reasoning: The default font size for the Tex documentclass is 10pt. Inspecting the stylesheet for the this web page shows us that the body text font size is 17px. Using the ratio of 96px = 72.27pt, we calculate that we need to have a font size of 12.7978125pt. So we apply a scale factor of 1.27978125 to the default 10pt font size.</p></li>
<li><p><code>template_html</code>: Common TikZ template code for HTML output. Here’s what I’m using in my <a href="https://github.com/adamiturabi/quarto-arabic-mwe/blob/main/srctex/tikz-template-html.tex">srctex/tikz-template-html.tex</a>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode tex code-with-copy"><code class="sourceCode latex"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\RequirePackage</span>{luatex85}</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">\documentclass</span>{<span class="ex">article</span>}</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>[luatex,active,tightpage]{<span class="ex">preview</span>}</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">amsmath</span>}</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">tikz</span>}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">xcolor</span>}</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">\definecolor</span>{mydarkgray}{RGB}{52, 58, 64}</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">fontspec</span>}</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">\defaultfontfeatures</span>{Scale=MatchLowercase}</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">\defaultfontfeatures</span>[<span class="fu">\rmfamily</span>]{Ligatures=TeX,Scale=1}</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">\setmainfont</span>{Charis SIL}</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="fu">\usetikzlibrary</span>{<span class="co">%s}</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="fu">\usetikzlibrary</span>{matrix}</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">arabluatex</span>}</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="fu">\newfontfamily</span>{<span class="fu">\arabicfont</span>}[Script=Arabic,Scale=1.2]{Vazirmatn-Regular}</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">document</span>}</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">preview</span>}</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="fu">\color</span>{mydarkgray}</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co">%s</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">preview</span>}</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">document</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note the use of the color <code>mydarkgray</code> to match the body text of the HTML theme. The color definition was obtained by inspecting this very page in a web browser, looking up the color specification from the stylesheet, and converting the HTML hexadecimal color code <code>343a40</code> to the decimal RGB values <code>{52, 58, 64}</code>.</p>
<!--
Also note that the Roman font is scaled by a factor of 1.27978125. 
This number has been arrived at using the following reasoning:
The default font size for the Tex documentclass is 10pt. 
Inspecting the stylesheet for the this web page shows us that the body text font size is 17px. 
Using the ratio of 96px = 72.27pt, we calculate that we need to have a font size of 12.7978125pt. 
So we apply a scale factor of 1.27978125 to the default 10pt font size.

The Arabic font is then scaled by 1.27978125 on top of the 1.2 relative scaling of Arabic font, which is 1.5357375.
-->
<p>The Arabic font is then scaled by 1.2 with respect to the Roman text to match the rest of the text.</p>
<p>The code block in the <code>.qmd</code> file will be inserted in the second <code>%s</code>’s location. Additional TikZ libraries may be inserted in the first <code>%s</code>’s location using the YAML option <code>libraries</code>.</p>
<p>Default template:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode tex code-with-copy"><code class="sourceCode latex"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">\documentclass</span>[tikz]{<span class="ex">standalone</span>}</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">amsmath</span>}</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\usetikzlibrary</span>{<span class="co">%s}</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">document</span>}</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">%s</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">document</span>}</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>template_pdf</code>: Common TikZ template code for PDF output. Here’s what I’m using in my <a href="https://github.com/adamiturabi/quarto-arabic-mwe/blob/main/srctex/tikz-template-pdf.tex">srctex/tikz-template-pdf.tex</a>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode tex code-with-copy"><code class="sourceCode latex"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\RequirePackage</span>{luatex85}</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">\documentclass</span>{<span class="ex">article</span>}</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>[luatex,active,tightpage]{<span class="ex">preview</span>}</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">amsmath</span>}</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">tikz</span>}</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">fontspec</span>}</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">\defaultfontfeatures</span>{Scale=MatchLowercase}</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">\defaultfontfeatures</span>[<span class="fu">\rmfamily</span>]{Ligatures=TeX,Scale=1}</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">\setmainfont</span>{Charis SIL}</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="fu">\usetikzlibrary</span>{<span class="co">%s}</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="fu">\usetikzlibrary</span>{matrix}</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">arabluatex</span>}</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">\newfontfamily</span>{<span class="fu">\arabicfont</span>}[Script=Arabic,Scale=1.0]{Vazirmatn-Light}</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">document</span>}</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">preview</span>}</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co">%s</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">preview</span>}</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">document</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It is identical to <code>template_html</code> except for:</p>
<ul>
<li>a different weight for the Arabic font: “light” instead of “regular” to match the main document</li>
<li>the absence of the dark gray color for the text,</li>
<li>no scale applied to the Roman font.</li>
</ul>
<p>The default template is the same as the default for <code>template_html</code>.</p></li>
<li><p><code>libgs</code>: In order to use this filter with svg format for HTML output, you need to make sure that the utlities dvisvgm and Ghostscript are installed on your system. This can be verified using the commands: <code>which dvisvgm</code> and <code>which gs</code>. If dvisvgm was not compiled with Ghostscript then you may need to link the location of the Ghostscript library on your system using the option <code>libgs</code>.</p>
<p>Note that if you use Homebrew on MacOS to manage installation of the ghostscript utility, then, when it updates packages it will change the version number in the path and delete the old path. So then, if you don’t update the <code>libgs</code> field to point to the new path then your figures will start to look corrupted.</p>
<p>Default value: <code>""</code>.</p></li>
</ul>
</section>
<section id="example-tikz-figure-with-arabic-text" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="example-tikz-figure-with-arabic-text"><span class="header-section-number">4.4</span> Example TikZ figure with Arabic text</h2>
<p>Here is an example of a TikZ diagram with Arabic text:</p>
<p>Arabic text:<br>
<span class="reg-ar-text" dir="rtl" lang="ar">ٱَلْبَيْتُ كَبِيرٌ</span></p>
<p>TikZ Figure:</p>
<img src="./images/figures-tikz-output-1.svg" class="img-fluid">
<!--See the 
[source file](https://github.com/adamiturabi/quarto-arabic-mwe/blob/main/srcqmd/figures.qmd)
for the code.

If you wish to override any of the global options you may do it
-->
<p>This is the source code for the figure in the <a href="https://github.com/adamiturabi/quarto-arabic-mwe/blob/main/srcqmd/figures.qmd">source <code>.qmd</code> file</a>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode tex code-with-copy"><code class="sourceCode latex"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>```{.tikzarabic}</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\usetikzlibrary</span>{decorations.text, decorations.pathreplacing}</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tikzpicture</span>}[nodes={text depth=0.25ex,text height=2.0ex}]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\path</span> [decoration={text effects along path,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  text=.<span class="fu">\txarb</span>{كَبِيرٌ} <span class="fu">\txarb</span>{ٱَلْبَيْتُ},</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  text effects/.cd,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    path from text, text along path,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    group letters, word count=<span class="fu">\w</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    every word/.style={name=word-<span class="fu">\w</span>, execute at begin node=<span class="fu">\strut</span>}},</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  decorate] (0,0);</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">\draw</span> [decoration={brace, mirror}, decorate]</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  (word-1.south west) -- (word-1.south east)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    node [midway, rotate=90, anchor=south, left=0ex, align=left] </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>      {<span class="fu">\scriptsize</span> predicate};</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">\draw</span> [decoration={brace, mirror}, decorate]</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  (word-2.south west) -- (word-2.south east)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    node [midway, rotate=90, anchor=south, left=0ex, align=left] </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>      {<span class="fu">\scriptsize</span> subject};</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="fu">\path</span> (0,0) </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  node [midway, below=13.5ex, right=0ex, align=left] </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    {``The house is big.''};</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tikzpicture</span>}</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="overriding-global-options" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="overriding-global-options"><span class="header-section-number">4.5</span> Overriding global options</h2>
<p>If you wish to override any of the global parameters back to their default values, or to other values, you can do so inline using the comment-pipe (<code>%%| option: value</code>) format. Here is an example:</p>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCEtLSBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBkdmlzdmdtIDMuMi4yIC0tPgo8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzIyMS4yMjY4MjZwdCcgaGVpZ2h0PSc5OS45NjgwNjVwdCcgdmlld0JveD0nLTkyLjE0NDMxNCAtOTIuMTQ0MzI3IDIyMS4yMjY4MjYgOTkuOTY4MDY1Jz4KPHN0eWxlIHR5cGU9J3RleHQvY3NzJz4KPCFbQ0RBVEFbQGZvbnQtZmFjZXtmb250LWZhbWlseTpjbW1pMTA7c3JjOnVybChkYXRhOmFwcGxpY2F0aW9uL3gtZm9udC13b2ZmO2Jhc2U2NCxkMDlHUmdBQkFBQUFBQU4wQUFvQUFBQUFBOXdBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQlBVeTh5QUFBQTlBQUFBRVlBQUFCZ2lXQjRGbU50WVhBQUFBRThBQUFBS2dBQUFEUUFEQVFaWjJ4NVpnQUFBV2dBQUFDd0FBQUFzR1daNmpkb1pXRmtBQUFDR0FBQUFDOEFBQUEyS2Z5Ni8yaG9aV0VBQUFKSUFBQUFId0FBQUNRRmdBR09hRzEwZUFBQUFtZ0FBQUFJQUFBQUNBVFhBREpzYjJOaEFBQUNjQUFBQUFZQUFBQUdBRmdBQUcxaGVIQUFBQUo0QUFBQUdBQUFBQ0FBQmdBMGJtRnRaUUFBQXBBQUFBRFVBQUFCUHBrUmRjZHdiM04wQUFBRFpBQUFBQkFBQUFBZ0FBTUFBWGphWTJCbXltYWN3TURLd01BMGkrbnNQeEdHZmhETitJYnhEWU14SXljREVMQXh3RUVEQXhKSUtTNUxaMkJqUGdhRURQK0JmR1lHUnBBd0kwTEZmNkF3QUFVcERtd0FBSGphWTJCZ1lHSmdZR0FHWWhFZ3lRaW1XUmdVZ0RRTEVBTDV6TWYrLzRlUWY2ekI4Z3dBWGNJSEpRQUFBQU1BTXY4c0Frd0N5Z0FnQUNrQU1nQUFBUWNlQVFjR0J3WUhCZzhDRGdJblB3RXVBU2MyTnpZM05qOEJOaFlmQVFNVEJnOEJCZ2NlQVJNRE5qOEJOamN1QVFHL09XcGNBUU5MRUJSV2NpY0dBd1VSQWhZWVhtWUJBMHdRRTFkeE93TVZBd0hIYVc0L0NUa0JBMU8xYVcwK0RqY0JBVXdDcnVnTGIwQmZUaEVRUkFhWkdRNEdBZzFhWVFkblMyQk9FZzVFQit3WUJBUUcvVTRCcFExUUMxSmRURUVCcFA1YkRrd1NVbHBEUndCNDJtTmdaR0JnQUdMdC84blY4ZncyWHhtWVdSaEE0SW41SGpZRS9WK0hxWXpwRkpETHdjQUVFZ1VBRzV3SjVBQjQybU5nWkdCZ1p2alB3TURBVk1aZ3hDREs1TU1BRkVFQlRBQTJXUUlVQUFKMkFBQUNZUUF5QUFBQUFBQllBQUI0Mm1OZ1pHQmdZR0l3Wm1CbUFBRkdCalFBQUFYR0FEdDQyazJPc1dyRE1CUkZqNmxqcUZ2SWxBd2RpcWFNeG5iNkFZVU1tYkptTENTUkNDNUlDckpqeUJMNkFmM29QaXNhK29RZVIrZGRDUUVsZHpLbXlwakhQbFZPSWFjSHozaGhrYmlRcFJLWHZMSGlpU3gvRnZQT1orS2NWNzRTejFqeW5iZ1EvNU80NUlQZmpiZVg2MkNDMm5sdGdqdFoyelgxM29TKzgwNDFWZjBRVytOTU9BeEdxK05ONmJIcng3TlY2NnF0V2paNExCZXVEQmlDL0d3blJrZDJuR1JtNldpbzJVZlh5OG5MUkltcnhQNVBiQ1hoWXVvUVg5T1NPbktUcmhrbDAwcy9TMXF4bHJ2dHRQOEE0SUl3dlhqYVkyQm1RQWFNREdnQUFBQ09BQVU9KSBmb3JtYXQoJ3dvZmYnKTt9CkBmb250LWZhY2V7Zm9udC1mYW1pbHk6Y21yMTA7c3JjOnVybChkYXRhOmFwcGxpY2F0aW9uL3gtZm9udC13b2ZmO2Jhc2U2NCxkMDlHUmdBQkFBQUFBQVNRQUFvQUFBQUFCUndBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQlBVeTh5QUFBQTlBQUFBRVFBQUFCZ2hWTjB3R050WVhBQUFBRTRBQUFBTXdBQUFFUUFWUURsWjJ4NVpnQUFBV3dBQUFIQ0FBQUIzTlMxMTJCb1pXRmtBQUFETUFBQUFDOEFBQUEyS21TNzBHaG9aV0VBQUFOZ0FBQUFIUUFBQUNRR0FRSW5hRzEwZUFBQUE0QUFBQUFRQUFBQUVBcGpBSVZzYjJOaEFBQURrQUFBQUFvQUFBQUtBVWdBbW0xaGVIQUFBQU9jQUFBQUdBQUFBQ0FBQ0FBM2JtRnRaUUFBQTdRQUFBRE5BQUFCT0lMaktxbHdiM04wQUFBRWhBQUFBQXdBQUFBZ0FBTUFBSGphWTJCbW1zRTRnWUdWZ1lGcEZ0UFpmeUlNL1NDYThRM2pHd1pqUms0R0lHQmpnQU5HQmlTUVVseVdEcFMwWUhCbVp2Z1A1RE5EcEpIVS9BY0tBd0RiWXcwRGVOcGpZR0JnWW1CZ1lBWmlFU0RKQ0taWkdBeUFOQWNRZ3VRc0dCd1puUC8vUjdEK24veC84UDhCc0Zvd0FBRGQ4Z3MwQUhqYUhaREJUOVJRRU1abjV0RSt1Mmk3UzdmdmdhNEZkcUdOTHJSazY3WVdEVmsya0YxQUEyekFha1F4S2drSEV5T0pHa3lJWE53L3dKT0pHbzhteHBzSC93YnZjSlNqQ1ZmdmdHK2RMNW5NZkRPSEx6OWdVRDA3eGtQNkJ2MXdCZW9BdHB6QkpNQ3l6blV4akVLNnlFM2tBZnJLOWowL3dFUU5Ma3F6NTZ0ckxWYmYvdGUzWVIxcDljVXE0Y0RQdWFKWmtraHY3cTN0c2I3TnFhb3doaTJrN2VXRlp3eWJYeG9wMGtiM0FWRTBpQWVkUysySmRENE5Md1M3RTVZNU9sdGFVeitibmFVTng3Vnk0elBtd2lQQ2xYYTAzQnEvUDluc3ROTGdtZ1ZBTUtyYUVSMUJCVHdBdEYxTUlzZXJJcStMT0FteHduV25LS1RqODdwS1o4ZXlKamlMOE1Odlhwa2NhTTR0dGVVTnhwS1RrSHp2MWZiVmFmTkFLL1liMGM0ZituV3lQMVRBRWNaRzBCRFdweTQvNTdqLzE4cytiVG1ZMnp2OUFhb1Ewck5qK2s2SFVGTzg0cVFuUlNTSlpjd2RvWmQ3bEh5UEs0SmNTS1VlTVU5dzNVS2RleUY2S2J0VHNCOTMyM2RMMFhuTlpLaEpEUXU3NjJPTmRDcFd3Y0xweGxqMnprQ1g0YzNpL012dWszS0dEOTgvdFFzWm8rdnVMWXZoeGI5NWcrZDI5cEVHNWV6aTU0K0xUVEZFK1BwNUh2UFpiZEhTK3JMeUZzQS9UMjFUaFFBQWVOcGpZR1JnWUFEaW9udXlhK1A1YmI0eU1MTXdnTUFUOHoxc0NQci9TNlo3VFBlQVhBNEdKcEFvQURBbUN5OEFlTnBqWUdSZ1lHYjR6d0FpR1JRWmxKanVNUUJGVUFBTEFEVlBBaThBQUFBQ2dBQUFBZ0FBS3dNQUFDRUM0d0E1QUFBQUFBQmFBSm9BN2dBQWVOcGpZR1JnWUdCaE1HTmdaZ0FCUmdZMEFBQUdSd0JBZU5wRmpEMkx3a0FRaHA5Z0loZ0xHN0d3dU52Q09pVFIraG9MSzF1cmE5UmRKVVUyc29rQlFTenZkenRaRjI1Z2grZjltQVZTWGtRTUV6SHplNWlZUk5TSEU2Yk1BNDlGZlFkT1diSmlSQlJQeFBuaUozQXN5Vy9naEFXWHdHUHhuNEZUTnZ4dG0vcDI3NHhUKzBZYlo4KzFLL0tEY1czVldGVmt1ZGM3WTQwN2RrYXIwMFBwdm1yN2E2M1dXWm1WYkdtb3VYR253K0JRN01YUm5pMW55UndGT1FmdnRGU1NXbWtWWk9MKzV6dkpyZThjL1U5YU9pY2Vzalc5WExXeXI5SldyT1d5SE40Ylk4Y3ZFUUFBQUhqYVkyQm13QXNBQUgwQUJBPT0pIGZvcm1hdCgnd29mZicpO30KdGV4dC5mMCB7Zm9udC1mYW1pbHk6Y21taTEwO2ZvbnQtc2l6ZTo5Ljk2MjY0cHh9CnRleHQuZjEge2ZvbnQtZmFtaWx5OmNtcjEwO2ZvbnQtc2l6ZTo5Ljk2MjY0cHh9Cl1dPgo8L3N0eWxlPgo8ZyBpZD0ncGFnZTEnIHRyYW5zZm9ybT0nbWF0cml4KDEuMjc5NzgxIDAgMCAxLjI3OTc4MSAwIDApJz4KPHBhdGggZD0nTS01MC4zMDA4LTQuODM1OTM3Qy01MC4zMDA4LTEwLjc3MzQ0LTU1LjExMzI4LTE1LjU4NTkxLTYxLjA1MDc4MS0xNS41ODU5MUMtNjYuOTg4MjgtMTUuNTg1OTEtNzEuODAwOC0xMC43NzM0NC03MS44MDA4LTQuODM1OTM3Qy03MS44MDA4IDEuMTAxNTYtNjYuOTg4MjggNS45MTQwOS02MS4wNTA3ODEgNS45MTQwOUMtNTUuMTEzMjggNS45MTQwOS01MC4zMDA4IDEuMTAxNTYtNTAuMzAwOC00LjgzNTkzN1onIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScvPgo8dGV4dCBjbGFzcz0nZjEnIHg9Jy02MS4wNTEyNycgeT0nLTQuODM1MTA5JyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIC0zLjczNiAzLjc1MzMxKSc+QTwvdGV4dD4KPHBhdGggZD0nTTUuOTE0MS02MS41MjczMUM1LjkxNDEtNjcuMjAzMTEgMS4zMTY0LTcxLjgwMDgxLTQuMzU5NC03MS44MDA4MUMtMTAuMDMxMi03MS44MDA4MS0xNC42Mjg5LTY3LjIwMzExLTE0LjYyODktNjEuNTI3MzFDLTE0LjYyODktNTUuODU1NTEtMTAuMDMxMi01MS4yNTM5MS00LjM1OTQtNTEuMjUzOTFDMS4zMTY0LTUxLjI1MzkxIDUuOTE0MS01NS44NTU1MSA1LjkxNDEtNjEuNTI3MzFaJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcvPgo8dGV4dCBjbGFzcz0nZjAnIHg9Jy02MS4wNTEyNycgeT0nLTQuODM1MTA5JyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDUzLjcyNTUyIC01Mi45NDAyOSknPs+GPC90ZXh0Pgo8cGF0aCBkPSdNNjMuMDMxNy00LjgzNTkzN0M2My4wMzE3LTEwLjc0MjE5IDU4LjI0MTctMTUuNTMxMjEgNTIuMzM1Ny0xNS41MzEyMVM0MS42NDA3LTEwLjc0MjE5IDQxLjY0MDctNC44MzU5MzdDNDEuNjQwNyAxLjA3MDMxIDQ2LjQyOTcgNS44NTkzOSA1Mi4zMzU3IDUuODU5MzlTNjMuMDMxNyAxLjA3MDMxIDYzLjAzMTctNC44MzU5MzdaJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcvPgo8dGV4dCBjbGFzcz0nZjEnIHg9Jy02MS4wNTEyNycgeT0nLTQuODM1MTA5JyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDEwOS43ODk2IDMuNzUzMzEpJz5DPC90ZXh0Pgo8cGF0aCBkPSdNMTAwLjY2MzctMzMuMTgzNjFDMTAwLjY2MzctNDQuMjE4NzEgOTEuNzE4Ny01My4xNjQxMSA4MC42ODM3LTUzLjE2NDExUzYwLjY5OTctNDQuMjE4NzEgNjAuNjk5Ny0zMy4xODM2MUM2MC42OTk3LTIyLjE0NDUxIDY5LjY0ODctMTMuMTk5MjIgODAuNjgzNy0xMy4xOTkyMlMxMDAuNjYzNy0yMi4xNDQ1MSAxMDAuNjYzNy0zMy4xODM2MVonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJy8+Cjx0ZXh0IGNsYXNzPSdmMScgeD0nLTYxLjA1MTI3JyB5PSctNC44MzUxMDknIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgMTI2Ljc4OTggLTI0LjU5MzQ5KSc+ODg4ODg4PC90ZXh0Pgo8cGF0aCBkPSdNLTUzLjMwODU5LTEyLjU3ODEyTC0xMi4wODU5LTUzLjgwMDgxJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcvPgo8cGF0aCBkPSdNLTE0LjA1ODYxOC01NC4wODE5ODhDLTEzLjU2NjQzOC01My43MzA0MjItMTIuMTU2Mjc5LTUzLjg3MTA0OS0xMS44NzUwMy01NC4wMTE2NzNDLTEyLjAxNTY1NS01My43MzA0MjQtMTIuMTU2MjgzLTUyLjMyMDI2Ny0xMS44MDQ3MTYtNTEuODI4MDg2JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjMxODc4Nycgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTTMuMDQ2OS01NC4xMjUwMUw0NC4zMDg3LTEyLjg2MzI4JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcvPgo8cGF0aCBkPSdNNDQuNTg5ODM4LTE0LjgzNTkwNkM0NC4yMzgyNzYtMTQuMzM5ODEzIDQ0LjM3ODkwMS0xMi45MzM1NjMgNDQuNTE5NTI1LTEyLjY1MjMxM0M0NC4yMzgyNzYtMTIuNzkyOTM4IDQyLjgyODEyMS0xMi45MzM1NjEgNDIuMzM1OTM1LTEyLjU4MjAwNCcgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zMTg3ODcnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J000MS40NDE3LTQuODM1OTM3SC00OS42NDQ1JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcvPgo8cGF0aCBkPSdNLTQ4LjQ0OTE3LTMuMjQyMTlDLTQ4LjU0NjgzLTMuODM5ODQ0LTQ5LjY0NDQ4MS00LjczNDM3NS00OS45NDEzNTYtNC44MzU5MzdDLTQ5LjY0NDQ4MS00LjkzMzU5NC00OC41NDY4My01LjgzMjAzMS00OC40NDkxNy02LjQyOTY5JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjMxODc5JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8L2c+Cjwvc3ZnPg==" class="img-fluid">
<p>Source code:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode tex code-with-copy"><code class="sourceCode latex"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>```{.tikzarabic}</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">%%| embed_mode: inline</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">%%| engine: default</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">%%| template_html: default</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">%%| template_pdf: default</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tikzpicture</span>}[nodes={text depth=0.25ex,text height=2.0ex}]</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">\node</span>[draw, circle] (A) at (0,0) {A};</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">\node</span>[draw, circle] (B) at (2,2) {<span class="ss">$</span><span class="sc">\phi</span><span class="ss">$</span>};</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">\node</span>[draw, circle] (C) at (4,0) {C};</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">\node</span>[draw, circle] (seven) at (5,1) {888888};</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="fu">\draw</span>[-&gt;] (A) -- (B);</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="fu">\draw</span>[-&gt;] (B) -- (C);</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">\draw</span>[-&gt;] (C) -- (A);</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tikzpicture</span>}</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../srcqmd/transliteration.html" class="pagination-link" aria-label="Transliteration of Arabic">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Transliteration of Arabic</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../srcqmd/summary.html" class="pagination-link" aria-label="Summary">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Summary</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>